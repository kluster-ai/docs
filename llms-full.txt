# kluster.ai llms-full.txt
kluster.ai. kluster.ai provides the technology to verify and trust AI responses in real time. Developers can validate outputs, detect hallucinations, and ensure response reliability across any model, with minimal integration effort.

## Generated automatically. Do not edit directly.

Documentation: https://docs.kluster.ai

## List of doc pages:
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/activation-codes.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/agent-mode/automatic-agent-reviews/dependency-checks.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/agent-mode/automatic-agent-reviews/quickstart.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/agent-mode/examples/cursor-firebase-nextjs.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/agent-mode/examples/vscode-admin-endpoint.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/agent-mode/manual-agent-reviews.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/configuration/options.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/configuration/rules.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/faq.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/get-started/installation.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/get-started/pick-your-workflow.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/instant-ide-mode/instant-actions/quickstart.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/reference/mcp-tools.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/reference/response-schema.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/review-modes.md
Doc-Page: https://raw.githubusercontent.com/kluster-ai/docs/main/code-reviews/troubleshooting.md

## Full content for each doc page

Doc-Content: https://docs.kluster.ai/code-reviews/activation-codes/
--- BEGIN CONTENT ---
---
title: How to use activation codes
description: Learn how to redeem activation codes on kluster.ai, apply promotional credits to your subscription, and resolve common issues when codes don't work.
---

# How to use activation codes

Activation codes provide promotional credits for [kluster.ai](https://www.kluster.ai/){target=_blank} plans. This guide shows how to redeem a code and apply the credit to your subscription.

## Prerequisites

Before redeeming an activation code, ensure you have:

- **A kluster.ai account**: Sign up on the [kluster.ai platform](https://platform.kluster.ai/signup){target=\_blank} if you don't have one.
- **kluster.ai installed in your IDE**: Follow the [Installation guide](/code-reviews/get-started/installation/) to set it up in your favorite IDE.
- **Activation code**: One that matches the plan you want to subscribe to.

## Redeeming your activation code

Follow these steps to redeem your activation code:

1. Log in to your [kluster.ai account](https://platform.kluster.ai){target=_blank}. First-time users receive 50 free code reviews under the trial plan.

2. Click the **upgrade** button in the top right corner of the platform.

    ![Upgrade button on kluster.ai platform](/images/code-reviews/activation-codes/activation-codes-01.webp)

3. On the plans page, choose the subscription plan you want. Make sure your activation code matches the plan you select, then click **Subscribe**.

    ![kluster.ai subscription plans](/images/code-reviews/activation-codes/activation-codes-02.webp)

    You'll be redirected to the Stripe checkout page.

4. On the Stripe checkout page, click the **Add promotion code** section and paste your activation code.

    ![Stripe checkout with promotion code field](/images/code-reviews/activation-codes/activation-codes-03.webp)

5. Once you apply the code, Stripe will validate it and show the discount applied. The total due today will reflect the promotional credit.

    ![Activation code applied successfully](/images/code-reviews/activation-codes/activation-codes-04.webp)

    Complete the checkout process by clicking **Subscribe**. Your promotional credits will be immediately applied to your account.

## Troubleshooting

If your activation code doesn't work:

- Confirm the code corresponds to the plan you selected. Activation codes are plan-specific (Starter, Team, or Enterprise).
- Check that the code hasn't expired.
- Ensure you haven't already used the code on your account.

## Need help?

If you encounter any issues with activation codes, join the [Discord community](https://discord.com/invite/klusterai){target=_blank} for support.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/agent-mode/automatic-agent-reviews/dependency-checks/
--- BEGIN CONTENT ---
---
title: Dependency Checks
description: Learn how kluster.ai validates packages and dependencies before installation, catching vulnerabilities and license issues automatically.
---

# Dependency Checks

Code Reviews protects you when starting new projects or adding libraries by validating dependencies before installation.

## How dependency checks work

1.  **You prompt**: Ask your AI to start a project (e.g., "Scaffold a Next.js app with Auth.js").
2.  **AI suggests**: The AI lists the necessary dependencies.
3.  **kluster.ai verifies**: The Dependency Validator checks every package for security vulnerabilities and license compliance before you install them.


When the AI suggests a package version with a known vulnerability, kluster.ai alerts you immediately, preventing the risk from entering your codebase.

![Dependency Analysis Example](/images/code-reviews/agent-mode/automatic-agent-reviews/dependency-analysis.webp)


## Next steps

- **[Manual agent reviews](/code-reviews/agent-mode/manual-agent-reviews/)**: Review existing code on demand.
- **[Configuration](/code-reviews/configuration/options/)**: Customize dependency check behavior.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/agent-mode/automatic-agent-reviews/quickstart/
--- BEGIN CONTENT ---
---
title: Automatic Agent Reviews Quickstart
description: Get started with automatic code reviews when using AI assistants. See how kluster.ai reviews code in real-time as your AI generates it.
---

# Automatic Agent Reviews quickstart

Learn how to use [kluster.ai](https://kluster.ai){target=_blank} with your preferred AI assistant to catch bugs, security flaws, and logic errors instantly—as your AI writes code.

## Prerequisites

Before getting started, ensure you have:

-- **A kluster.ai account**: Sign up on the [kluster.ai platform](https://platform.kluster.ai/signup){target=\_blank} if you don't have one.
- **kluster.ai installed in your IDE**: Follow the [Installation guide](/code-reviews/get-started/installation/) to set it up in your favourite IDE.


## How automatic reviews work

<div class="embed-container">
    <iframe
        src="https://www.youtube.com/embed/-V0VsqgTza8"
        title="Instant Code Reviews with kluster.ai"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
        loading="lazy">
    </iframe>
</div>

The most powerful way to use Code Reviews is to let it work in the background. You don't need to change how you work—just ask your AI assistant for what you need.

1.  **You prompt**: Ask your AI assistant to generate code (e.g., "Create a user login endpoint").
2.  **AI generates**: The AI writes the code.
3.  **kluster.ai verifies**: Code Reviews automatically analyzes the diff in real-time.


In this example, the AI creates an API endpoint but makes a critical security error that kluster.ai intervenes to fix.

=== "VS Code"

    In VS Code, you'll see the review appear directly in the chat. kluster.ai flags the issue (e.g., "Unprotected API Endpoint") and provides a fix.

    ![VS Code Auto Review - Unprotected API](/images/code-reviews/agent-mode/automatic-agent-reviews/vscode-auto-review.webp)

=== "Claude Code"

    In the terminal, Claude Code displays the review results immediately.

    ![Claude Code Auto Review - Unprotected API](/images/code-reviews/agent-mode/automatic-agent-reviews/claude-auto-review.webp)

## Compatible with

- Cursor
- VS Code (with Copilot)
- Windsurf
- Antigravity
- Claude Code
- Codex CLI

## Configuration

You can customize how automatic reviews work in your [configuration options](/code-reviews/configuration/options/):

- **Enabled tools**: Toggle Code Review and Dependency Analysis on/off.
- **Sensitivity**: Adjust how strictly issues are flagged (Low → Critical).
- **Bug check types**: Select which issue types to check (Security, Logic, Performance, etc.).

## Next steps

- **[Dependency checks](/code-reviews/agent-mode/automatic-agent-reviews/dependency-checks/)**: Learn about package validation.
- **[Manual agent reviews](/code-reviews/agent-mode/manual-agent-reviews/)**: On-demand reviews for existing code.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/agent-mode/examples/cursor-firebase-nextjs/
--- BEGIN CONTENT ---
---
title: Cursor: Firebase Authentication with Next.js
description: See how Code Reviews catches critical issues in real-time while migrating from localStorage to Firebase authentication
---

# Cursor: Firebase authentication

Learn how [Code Reviews](/code-reviews/) acts as your safety net when using Cursor AI to write code. This tutorial demonstrates a real migration from localStorage to Firebase authentication in a buy-sell e-commerce platform, showcasing how AI plans can go wrong and the four critical issues Code Reviews caught.

## Prerequisites

-- **A kluster.ai account**: Sign up on the [kluster.ai platform](https://platform.kluster.ai/signup){target=\_blank} if you don't have one.

As kluster.ai services work via MCP, the API key is created and configured for you when setting up the relevant extensions.

- [Cursor IDE installed](https://cursor.com/downloads){target="_blank"}

## Setup

Getting Code Reviews working in Cursor takes just one click. Visit our [installation guide](/code-reviews/get-started/installation/) and click **Add to Cursor** for automatic installation.

For other IDEs, see our [installation guide](/code-reviews/get-started/installation/).

## Next.js e-commerce

We built a buy-sell e-commerce platform where users post articles for purchase. The app initially used `localStorage` for user authentication, but we decided to **migrate to Firebase** for better security and user management.

We used **Gemini 2.5 Flash** (Cursor's standard free model) in **agentic mode** to handle the migration while Code Reviews monitored the changes.

## The prompt and AI's plan

Our prompt was to _implement a real user login with Firebase_ + Firebase default app setting file.

![Cursor showing e-commerce app and AI's Firebase implementation plan](/images/code-reviews/agent-mode/examples/cursor/example-cursor-1.webp)

The AI responded confidently with a detailed 5-step plan:

1. **Create Firebase initialization file**: Set up `src/lib/firebase.ts`.
2. **Install Firebase**: Add the npm package.
3. **Update authentication context**: Modify `src/contexts/AuthContext.tsx`.
4. **Update Login API route**: Handle Firebase in `src/app/api/auth/login/route.ts`.
5. **Update Signup API route**: Handle Firebase in `src/app/api/auth/signup/route.ts`.


## Plan vs. implementation outcomes

The AI's 5-step implementation plan achieved just 20% success rate, with four critical failures.

| Step | Task | Result |
|------|------|--------|
| 1 | Firebase initialization | ❌ Failed - Incomplete implementation |
| 2 | Install Firebase | ✅ Success |
| 3 | Update AuthContext | ❌ Failed - Architecture regression |
| 4 | Update login API | ❌ Failed - Breaking changes |
| 5 | Update signup API | ❌ Failed - Security vulnerabilities |

The AI got confused between steps 3-4, couldn't decide between direct Firebase calls vs API routes, kept reverting working code, and made **multiple correction attempts** throughout the implementation.

## Key issues caught by Code Reviews

The AI made four key mistakes along the way, escalating from simple import issues to reverting the entire Firebase implementation. Below, we examine each catch.

### Incomplete implementation

What happened? AI created Firebase config but missed the actual authentication setup.

```typescript
// src/lib/firebase.ts - Step 1 attempt
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";

const firebaseConfig = { /* config */ };
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app); // ❌ No auth setup
```

Code Reviews provided the following response:

---

**P1 - Intent (High)**: AI did not implement the actual user login functionality as requested.

**Why this matters**: Running the app would cause runtime errors when trying to authenticate - the `auth` object simply doesn't exist.

**Correct approach**:
```typescript
// src/lib/firebase.ts - Corrected
import { initializeApp } from "firebase/app";
import { getAnalytics } from "firebase/analytics";
import { getAuth } from "firebase/auth"; // ✅ Added

const firebaseConfig = { /* config */ };
const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const auth = getAuth(app); // ✅ Initialize auth

export { app, auth, analytics }; // ✅ Export auth
```

---

### Breaking changes

What happened? AI removed the working Firebase login logic from the API route.

```typescript
// src/app/api/auth/login/route.ts - Working version
export async function POST(req: NextRequest) {
  const { email, password } = await req.json();
  const userCredential = await signInWithEmailAndPassword(auth, email, password);
  return NextResponse.json({ message: "Login successful", user: user.toJSON() });
}
```

```typescript
// AI's "fix" - Step 4 attempt
export async function POST(req: NextRequest) {
  return NextResponse.json({ message: "Not used for direct login" }); // ❌ Removed logic
}
```

The screenshot below shows Cursor's interface with Code Reviews's alert panel displaying a critical P1 Intent violation. The alert clearly identifies that the AI removed working Firebase authentication logic from the login API route, replacing functional code with a placeholder response.

![Code Reviews alert showing breaking changes detected in login API route](/images/code-reviews/agent-mode/examples/cursor/example-cursor-2.webp){ width="75%" }

Code Reviews provided the following response:

---

**P1 - Intent (High)**: AI removed Firebase login implementation instead of maintaining it.

**Why this matters**: AI replaced working authentication logic with a non-functional placeholder response, breaking the API contract.

**Correct approach**: Keep the original working Firebase authentication logic.

---

### Security vulnerabilities

What happened? AI created a signup endpoint without input validation.

```typescript
// src/app/api/auth/signup/route.ts - Step 5 attempt
export async function POST(request: NextRequest) {
  const body = await request.json();
  const { email, password, name } = body; // ❌ No validation!

  const userCredential = await createUserWithEmailAndPassword(auth, email, password);
}
```

Code Reviews provided the following response:

---

**P3 - Security (High)**: Lack of input validation for signup data.

**Why this matters**: Malformed data could crash the server, invalid emails cause Firebase errors, weak passwords accepted.

**Correct approach**:

```typescript
import { SignupSchema } from '@/lib/validation';

export async function POST(request: NextRequest) {
  const body = await request.json();

  // ✅ Validate input
  const validationResult = SignupSchema.safeParse(body);
  if (!validationResult.success) {
    return NextResponse.json({
      error: 'Validation failed',
      details: validationResult.error.issues
    }, { status: 400 });
  }

  const { email, password, name } = validationResult.data;
  const userCredential = await createUserWithEmailAndPassword(auth, email, password);
}
```

---

### Architecture regression

What happened? AI reverted the Firebase authentication logic back to the `localStorage` approach.

```typescript
// src/contexts/AuthContext.tsx - Correct Firebase approach
const login = async (email: string, password: string) => {
  const userCredential = await signInWithEmailAndPassword(auth, email, password);
  return !!userCredential.user;
};
```

```typescript
// AI reverted to original localStorage approach
const [user, setUser] = useState(() => {
  const savedUser = localStorage.getItem('user'); // ❌ Back to localStorage!
  return savedUser ? JSON.parse(savedUser) : null;
});

const login = async (email: string, password: string) => {
  const response = await fetch('/api/auth/login', { // ❌ API calls instead of Firebase
    method: 'POST',
    body: JSON.stringify({ email, password })
  });
};
```

The screenshot below displays Cursor with Code Reviews's alert highlighting a P1 Intent violation. The alert detects that the AI has regressed the authentication architecture by reverting from the Firebase implementation back to the original localStorage and API-based approach, undoing the intended migration.

![Code Reviews alert showing architecture regression from Firebase back to localStorage](/images/code-reviews/agent-mode/examples/cursor/example-cursor-3.webp){ width="75%" }


Code Reviews provided the following response:

---

**P1 - Intent (High)**: AI reverted Firebase authentication implementation back to using localStorage and API calls.

**Why this matters**: Lost all Firebase benefits like real-time auth state, secure token management, and cross-device sessions. Back to the original problems we were trying to solve.

**Correct approach**:
```typescript
// src/contexts/AuthContext.tsx
const login = async (email: string, password: string) => {
  const userCredential = await signInWithEmailAndPassword(auth, email, password);
  return !!userCredential.user;
};
```

---

## Summary of results

Code Reviews caught **four critical issues** across a "simple" five-step plan:

1. **Incomplete implementation** - Step one missed core functionality.
2. **Breaking changes** - Step four deleted working code.
3. **Security vulnerabilities** - Step five ignored input validation.
4. **Architecture regression** - Step three went backwards.

By following Code Reviews's guidance at each step, Gemini 2.5 Flash completed the Firebase migration. Users can now register and authenticate properly.

The following image shows the Firebase console showing the `code@verify.com` user creation:

![Firebase Authentication console showing successfully created users](/images/code-reviews/agent-mode/examples/cursor/example-cursor-4.webp)

Users can now successfully login into the e-commerce app and Firebase user created:

![E-commerce app showing successful login with code@verify.com user](/images/code-reviews/agent-mode/examples/cursor/example-cursor-5.webp)

The migration from `localStorage` to Firebase authentication was completed without the typical debugging cycles. [Code Reviews](/code-reviews/) caught each issue in real-time, allowing us to fix problems immediately rather than discovering them during testing.

## Key takeaways

Even with clear prompts and detailed plans, AI execution can go wrong. Code Reviews acts as your safety net, catching issues before they compound into debugging nightmares.

The more complex the task, the more valuable this real-time verification becomes.

**Learn more**: Explore our [MCP tools reference](/code-reviews/reference/mcp-tools/) to understand all issue types and priority levels that Code Reviews monitors.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/agent-mode/examples/vscode-admin-endpoint/
--- BEGIN CONTENT ---
---
title: VS Code: Secure Admin Endpoints with Express
description: Learn how Code Reviews prevents critical security vulnerabilities when AI creates admin endpoints with hardcoded credentials
---

# VS Code: Secure Admin Endpoints

Discover how [Code Reviews](/code-reviews/) catches critical security flaws when using VS Code with GitHub Copilot Chat to create admin endpoints. This tutorial demonstrates a real scenario where AI introduces a production-breaking security vulnerability while implementing a database reset endpoint.

## Prerequisites

-- **A kluster.ai account**: Sign up on the [kluster.ai platform](https://platform.kluster.ai/signup){target=\_blank} if you don't have one.

As kluster.ai services work via MCP, the API key is created and configured for you when setting up the relevant extensions.

- [VS Code installed](https://code.visualstudio.com/download){target="_blank"}
- [GitHub Copilot Chat extension](https://marketplace.visualstudio.com/items?itemName=GitHub.copilot-chat){target="_blank"}

## Setup

Getting Code Reviews working in VS Code takes just one click. Visit the [installation guide](/code-reviews/get-started/installation/) and click **Add to VS Code** for automatic installation.

## Express API with product management

This Express API manages a product catalog with full CRUD operations. The API uses a `DataManager` class for persistence and includes Swagger documentation for easy testing. Everything works perfectly until the team needs a way to reset the database for testing and emergency scenarios.

The team decided to add an **admin endpoint** to delete all products - a seemingly simple task that AI turned into a security nightmare.

## The prompt and AI's response

Our prompt was straightforward: _"Add an admin endpoint to delete all products from the database."_

![VS Code showing the Express API and Copilot Chat with Claude Sonnet's implementation plan](/images/code-reviews/agent-mode/examples/vscode/example-vscode-1.webp)

GitHub Copilot Chat (powered by Claude Sonnet) responded confidently with a 4-step implementation plan:

1. **Add deleteAllProducts method**: Extend the DataManager class.
2. **Create admin endpoint**: Implement DELETE /admin/reset-database.
3. **Add authentication**: Secure with admin key validation.
4. **Update Swagger docs**: Document the new endpoint.

The AI appeared to execute flawlessly, creating all the necessary code in seconds.

## The implementation result

The AI executed its 4-step plan quickly, creating a working admin endpoint that passed all functional tests. But working code isn't always secure code.

## The critical security vulnerability

The AI created a functional admin endpoint with authentication, but included a dangerous fallback that could expose production databases to unauthorized deletion:

```javascript
// server.js - AI's implementation
app.delete('/admin/reset-database', async (req, res) => {
  const adminKey = req.headers['x-admin-key'] || req.query.adminKey;
  const expectedAdminKey = process.env.ADMIN_KEY || 'admin123'; // ❌ CRITICAL: Hardcoded default

  if (!adminKey || adminKey !== expectedAdminKey) {
    return res.status(401).json({
      error: 'Unauthorized: Invalid admin key'
    });
  }
  // ... rest of implementation
});
```

The line `process.env.ADMIN_KEY || 'admin123'` creates a catastrophic security hole. If the environment variable is missing, the endpoint uses a publicly known default. This means 'admin123' becomes a backdoor key that works in production if the environment isn't properly configured - turning a simple misconfiguration into a database deletion vulnerability.

## Code Reviews catches the vulnerability

![VS Code with Code Reviews alert showing P2 Critical security issue for hardcoded admin credentials](/images/code-reviews/agent-mode/examples/vscode/example-vscode-2.webp)

Code Reviews immediately identified the critical security flaw:

---

**P2 - Security (Critical)**: Hardcoded default admin key in the server-side code.

**Why this matters**: The `expectedAdminKey` falls back to a hardcoded default value ('admin123') when the environment variable is not set. If the `ADMIN_KEY` environment variable is ever missing or misconfigured in production, the system defaults to a publicly known, hardcoded key that attackers could easily discover.

**Required fix**: Remove the hardcoded default value. Change from `process.env.ADMIN_KEY || 'admin123'` to `process.env.ADMIN_KEY`. Add validation to ensure the environment variable is set, logging a critical error if missing.

---

Beyond the immediate security fix, Code Reviews also recommended strengthening the admin endpoint with additional layers of protection: implementing multi-factor authentication (MFA) or role-based access control (RBAC), adding rate limiting to prevent brute-force attacks, and setting up comprehensive audit logging for all access attempts. These security recommendations can be customized in your [configuration settings](/code-reviews/configuration/options/) to match your team's specific security requirements.

## The secure implementation

Following Code Reviews's guidance, the solution eliminates the backdoor by removing `|| 'admin123'` entirely. The secure implementation validates that `process.env.ADMIN_KEY` exists and returns a 503 Service Unavailable if it's missing.

```javascript
// Before - VULNERABLE
// const expectedAdminKey = process.env.ADMIN_KEY || 'admin123'; // ❌ Hardcoded fallback

// After - SECURE
const expectedAdminKey = process.env.ADMIN_KEY;

if (!expectedAdminKey) {
  console.error('CRITICAL SECURITY ERROR: ADMIN_KEY environment variable is not set');
  return res.status(503).json({
    error: 'Service unavailable: Admin endpoint not configured'
  });
}

const adminKey = req.headers['x-admin-key'] || req.query.adminKey;

if (!adminKey || adminKey !== expectedAdminKey) {
  return res.status(401).json({
    error: 'Unauthorized: Invalid or missing admin key'
  });
}
```




## Summary of results

![VS Code showing the successfully implemented secure admin endpoint with proper authentication](/images/code-reviews/agent-mode/examples/vscode/example-vscode-3.webp)

Code Reviews prevented a critical security vulnerability from reaching production:

1. **Caught the hardcoded credential** - Identified the fallback value immediately.
2. **Provided secure alternative** - Guided proper environment-based authentication.
3. **Enforced configuration** - Ensured the endpoint fails safely when misconfigured.
4. **Improved security posture** - Added audit logging and proper error handling.

Without Code Reviews, this vulnerability could have:

- Exposed production databases to deletion.
- Created compliance violations.
- Led to data loss incidents.
- Required emergency patches.

## Key takeaways

Admin endpoints require special security attention that AI often misses:

- **Never use hardcoded fallbacks** for authentication credentials.
- **Fail safely** when configuration is missing.
- **Validate environment** at startup.
- **Log admin actions** for audit trails.
- **Test all scenarios** including misconfiguration.

[Code Reviews](/code-reviews/) acts as your security safety net, catching vulnerabilities that look functional but hide critical flaws. The more powerful the operation, the more critical this protection becomes.

**Learn more**: Explore our [MCP tools reference](/code-reviews/reference/mcp-tools/) to understand all vulnerability types that Code Reviews monitors.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/agent-mode/manual-agent-reviews/
--- BEGIN CONTENT ---
---
title: Manual Agent Reviews
description: Ask your AI assistant to review existing code on demand. Audit files, check for security issues, or verify code quality.
---

# Manual Agent Reviews

Manual agent reviews let you ask your AI assistant to review existing code—not just newly generated code. This is useful for auditing files, checking security, or verifying code you didn't write.

## How it works

1.  **You ask**: Tell your AI to review a file or code block (e.g., "use kluster to check all my changes").
2.  **AI triggers review**: The assistant calls kluster.ai's manual review tool.
3.  **kluster.ai analyzes**: Results appear with issues and suggested fixes your AI can apply.

![Manual agent review in Claude Code](/images/code-reviews/agent-mode/manual-agent-reviews/claude-code-1.webp)

## Next steps

- **[Automatic agent reviews](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)**: Learn about automatic real-time reviews.
- **[Configuration](/code-reviews/configuration/options/)**: Customize what issues get flagged.
- **[Examples](/code-reviews/agent-mode/examples/cursor-firebase-nextjs/)**: See Agent Mode in action.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/configuration/options/
--- BEGIN CONTENT ---
---
title: Options
description: Configure kluster.ai Code Review settings, from sensitivity levels to issue types and enabled tools used to verify code across your workflow.
---

# Options

You can customize the [kluster.ai](https://www.kluster.ai/){target=_blank} Code Reviews behavior through the platform settings or directly in your IDE. This allows you to tailor the review process to your specific needs, such as configuring sensitivity levels for issue reporting, selecting which types of bug checks to perform, and enabling or disabling specific MCP tools to match your development workflow.

![Code Review Options interface showing three numbered sections: Sensitivity Settings, Code Review Scope, and Enabled Tools](/images/code-reviews/configuration/configuration-1.webp)

## 1. Sensitivity settings

Configure the minimum sensitivity level for Code Reviews issue reporting. Set your threshold based on your team's needs:

- `Low`: Detects even the smallest potential issues.
- `Medium`: Suitable for projects requiring strong security and high code quality.
- `High`: (Recommended) Strong protection against security and quality issues while maintaining good performance.
- `Critical`: Focuses only on critical issues for faster iteration and smoother coding experience.

The ideal setting depends on your use case. For example, a **High** level is a good starting point, but you might want to set it to **Medium** for production code.

## 2. Code review scope

Select which types of issues Code Reviews detects during code analysis. You have full control over which bug types to check for through simple on/off toggles.

|     Type      |           Description           |                Example                |
|:-------------:|:-------------------------------:|:-------------------------------------:|
|   `intent`    | Code doesn't match user request | User asked for sorting, got filtering |
|  `semantic`   |    Meaning and type errors      |        Wrong variable type used       |
|  `knowledge`  |    Best practice violations     |       Not following conventions       |
| `performance` |       Performance issues        |        Inefficient algorithms         |
|   `quality`   |      Code quality problems      |        Poor naming, complexity        |
|   `logical`   |     Control flow errors         |           Off-by-one errors           |
|  `security`   |    Security vulnerabilities     |          SQL injection risks          |

## 3. Enabled tools

Control which review tools run in your development environment. Enable or disable each tool based on your project's specific needs and workflow.

- `Real-time Code Review`: For code quality reviews.
- `Dependency Analysis`: For package and dependency security.

## Next steps

- [Create custom rules](/code-reviews/configuration/rules/): Add project-specific development standards.
- [View MCP tools reference](/code-reviews/reference/mcp-tools/): Understand the technical API details.
- [Installation guide](/code-reviews/get-started/installation/): Set up Code Reviews in your IDE.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/configuration/rules/
--- BEGIN CONTENT ---
# Custom rules

Rules define practices, guidelines, and patterns that maintain code quality for your projects. When connected to GitHub, each repository becomes a project with its own learned rules. You can also create manual rules that apply globally or to specific projects. [kluster.ai](https://kluster.ai){target=_blank} Code Reviews automatically checks code changes against these rules.

## Rule types

- **Manual rules**: Custom rules you create based on your team's specific requirements and coding standards.
- **Learned rules**: Automatically extracted from your GitHub repositories, continuously updated to reflect your codebase patterns.

## Set up instructions

You can create manual rules to enforce your team's coding standards or connect GitHub to automatically extract patterns from your repositories. Rules can be applied globally or to specific projects.

!!! info "Extraction rate limit"
    Rule extraction from repositories is limited to once per hour. Wait 60 minutes between extraction requests.

1. **Access the platform**: Navigate to [Custom Code Review Rules](https://platform.kluster.ai/custom-code-review-rules){target=_blank}.

2. **Connect GitHub** (Optional): Connect your GitHub account to enable project-specific rules. In this context, each GitHub repository is treated as a 'project' - Code Reviews learns patterns from each repository and applies those specific rules when reviewing code for that project.

    ![Connect to GitHub](/images/code-reviews/configuration/rules/rules-1.webp)

3. Click **Add review rule** to create custom rules.

    ![Add review rule button](/images/code-reviews/configuration/rules/rules-2.webp)

4. **Configure rule scope**: Enter your rule and select the scope:
    - **All**: Rules apply globally to all your coding sessions.
    - **Project-specific**: Select a repository from the dropdown (requires GitHub connection).

5. Click **Save & Add Another** to add multiple rules or **Save** to finish.

    ![Add code review rule dialog](/images/code-reviews/configuration/rules/rules-3.webp)

## Next steps

- **[Installation guide](/code-reviews/get-started/installation/)**: Set up Code Reviews in your preferred IDE.
- **[See real examples](/code-reviews/agent-mode/examples/cursor-firebase-nextjs/)**: Walk through a complete Firebase migration case study.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/faq/
--- BEGIN CONTENT ---
---
title: Frequently Asked Questions
description: Find answers to common questions about kluster.ai Code Review, covering setup, supported IDEs, review modes, security, and troubleshooting topics.
---

# Frequently Asked Questions

## General

### When should I use Agent Mode vs Instant IDE Mode?

- **[Agent Mode](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)**: Use this mode when coding with an AI assistant. Reviews trigger automatically.
- **[Instant IDE Mode](/code-reviews/instant-ide-mode/instant-actions/quickstart/)**:  Use this mode when writing code yourself or reviewing existing code. You trigger reviews manually.

### I mostly write code without AI—is kluster.ai useful for me?

Yes. Instant IDE Mode is built for this. Right-click any code or press `Ctrl+Shift+K` to trigger a review. No AI assistant needed. See [Instant IDE Mode](/code-reviews/instant-ide-mode/instant-actions/quickstart/) for setup.

### When should I run a manual review?

Run a manual review before pushing changes. Use **Review uncommitted changes** for staged files, or **Review all branch changes** to review all changes made since the branch was created.

### Do the two modes ever conflict or overlap?

No. Agent Mode runs when AI generates code. Instant IDE Mode runs when you trigger it. They work independently.

### What IDEs and CLI tools are supported?

- **IDE extensions**: Cursor, VS Code, Windsurf, Antigravity
- **CLI tools**: Claude Code, Codex CLI

See [Installation](/code-reviews/get-started/installation/) for setup instructions.

### What programming languages are supported?

kluster.ai is language agnostic and can review code in any programming language, including Python, TypeScript, JavaScript, Java, Go, Rust, C++, C#, Ruby, PHP, and more.

### Can I review a full codebase?

Yes, using [Instant IDE Mode](/code-reviews/instant-ide-mode/instant-actions/quickstart/). You can review individual files, selected code blocks, or all uncommitted changes. For large codebases, we recommend reviewing file-by-file or focusing on changed files.

### Can I use kluster.ai with any AI model?

Yes. When using an AI coding assistant, Code Reviews works with any model available in supported IDEs, including Claude, GPT, Gemini, and others.

### Can I exclude files or folders from reviews?

Currently, exclusion rules are configured at the project level through the kluster.ai platform. See [Custom Rules](/code-reviews/configuration/rules/) for setting up project-specific configurations.

### How can I invite a team member?

Team management is available on Team and Enterprise plans. Log in to the [kluster.ai platform](https://platform.kluster.ai){target=\_blank} and navigate to your team settings to invite members.

### How do activation codes work?

Activation codes provide promotional credits for kluster.ai plans. See our detailed guide: [How to use activation codes](/code-reviews/activation-codes/).

### How frequently does kluster.ai update its vulnerability detection?

kluster.ai sources vulnerability data from public CVE databases that are continuously updated. Detection coverage improves as new CVEs are published and ingested, rather than following a fixed update schedule.

### How can I provide feedback about issues detected by kluster.ai?

Each time a code review is done, a feedback option is available from the extension or in the platform. Your feedback helps improve detection accuracy and reduce false positives.

### Do kluster.ai reviews improve over time?

Yes. When you connect your GitHub repositories, kluster.ai learns rules from your repo and applies project-specific configurations. See [Custom Rules](/code-reviews/configuration/rules/) for more details.

We also continuously improve our engine to perform deeper reviews, optimizing for common issues our users encounter. If you have suggestions for improvement, contact us at [support@kluster.ai](mailto:support@kluster.ai).

## Agent Mode

### What triggers an automatic review?

In Agent Mode, reviews trigger automatically when your AI coding assistant generates or modifies code. This happens without any action from you. The code diff is sent to kluster.ai, and the results appear in your chat or terminal.

### How does Agent Mode handle intent verification differently than Instant IDE Mode?

Agent Mode sees your original prompt to the AI, so it can verify the AI did what you asked—not just that the code runs. If you asked for Firebase auth but the AI used localStorage, Agent Mode catches it. Instant IDE Mode cannot check intent because it only sees the code, not your request. See [this example](/code-reviews/agent-mode/examples/cursor-firebase-nextjs/) for a real case.

### Does kluster.ai apply changes automatically?

No. kluster.ai identifies issues and suggests fixes, but doesn't modify your code directly. In Agent Mode, the AI assistant decides whether to apply them—in most cases, it will automatically incorporate the fixes. In Instant IDE Mode, you apply fixes yourself using the **Fix with AI** button or manually. Either way, you remain in control.

### Can I disable automatic reviews temporarily?

Yes. You can disable automatic reviews from [Options](/code-reviews/configuration/options/) in the kluster.ai platform. Alternatively, you can disable the kluster.ai extension in your IDE, or for CLI tools, disable the MCP server.

### Does it work with multi-file edits?

Yes. Agent Mode analyzes diffs across multiple files in a single review, understanding the context of changes that span your codebase.

### How does dependency checking work?

The Dependency Validator automatically checks packages before installation. When your AI assistant suggests adding a dependency, kluster.ai validates it for known vulnerabilities before the install command runs.

### How do I rollback changes made based on kluster.ai feedback?

The changes are made by your AI assistant, not kluster.ai itself. You can revert changes in the file using your IDE undo functionality, Git commands, or simply ask the AI assistant to revert the changes.

## Instant IDE Mode

### What is the fastest way to check code I just wrote?

Select the code, press **Ctrl+Shift+K** (or right-click → **Review with kluster.ai**). Results appear in seconds with issues and one-click fixes.

### Can I use kluster.ai for code reviews in pull requests?

Yes. Check out the PR locally and either:

1. Use **Review uncommitted changes** to scan all modifications.
2. Select specific code and review it.

### How do I trigger a Manual Review?

You can trigger a Manual Review in three ways:

1. **Right-click** selected code → **Review with kluster.ai**.
2. Use the extension sidebar. Open the **Instant Review** dropdown and choose a file or uncommitted changes.
3. Select code and use the **hint** button. This option is not available in Cursor yet.

### Can I review code I didn't write?

Yes. Manual Review works on any code, including your own code, AI-generated code, or code from colleagues. This is useful for auditing existing codebases or reviewing pull requests.

### Can I review a specific code block vs whole file?

Yes. Select the code you want to review, then right-click and choose **Review with kluster.ai**. You can review anything from a single function to an entire file.

### Can I review uncommitted changes?

Yes. In the kluster.ai extension sidebar, click **Instant Review** and select **Review uncommitted changes**. This reviews all staged and unstaged changes across your repository.

### What's the difference between instant actions and background reviews?

- **Instant actions**: On-demand reviews triggered by clicking a button or using a shortcut.
- **Ambient background reviews (Beta, Enterprise plan)**: Automatically review your code for issues and suggestions as you work, without requiring you to trigger anything. Enable it from the **Enabled Tools** section in [Options](/code-reviews/configuration/options/).
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/get-started/installatio/
--- BEGIN CONTENT ---
---
title: Get started with Code Reviews
description: Set up kluster.ai Code Reviews in minutes. Scan code for errors, vulnerabilities, and performance issues in Cursor, VS Code, Claude Code, and more.
---

# Get started with Code Reviews

Fast-moving development introduces risk. Code may contain logic errors, security flaws, or performance issues that slip through and reach production.

The [kluster.ai](https://www.kluster.ai/){target=\_blank} Code Reviews service integrates directly into your development workflow, scanning code in real-time. It catches potential issues instantly within your IDE, allowing you to ship code confidently.

## Prerequisites

Before getting started, ensure you have:

-- **A kluster.ai account**: Sign up on the [kluster.ai platform](https://platform.kluster.ai/signup){target=\_blank} if you don't have one.

As kluster.ai services work via MCP, the API key is created and configured for you when setting up the relevant extensions.

## Setup instructions

=== "Antigravity"

    1. Click the **Add to Antigravity** button below.

         -[:octicons-arrow-right-24: Add to Antigravity](antigravity:extension/klusterai.kluster-verify-code){target=\_blank .md-button .md-button--primary}


    2. Antigravity will open and prompt for extension installation.

    3. Click **Install** to add the extension into Antigravity.

        ![Extension Installation Prompt in Antigravity](/images/code-reviews/get-started/installation/antigravity/antigravity-integration-1.webp)

    Now that the extension is installed, you need to log in with your kluster.ai account:

    1. Click **Sign in** in the bottom left corner.

        ![Sign In](/images/code-reviews/get-started/installation/antigravity/antigravity-integration-2.webp)

    2. Choose **Open**. A browser pop-up window will take you to your kluster.ai account.

        ![Open Pop-up](/images/code-reviews/get-started/installation/antigravity/antigravity-integration-3.webp)

    3. Click **Open Antigravity**.

        ![Open Antigravity](/images/code-reviews/get-started/installation/antigravity/antigravity-integration-4.webp)

    4. Click **Open** to install the MCP with your kluster.ai API key.

        ![Open and Install MCP](/images/code-reviews/get-started/installation/antigravity/antigravity-integration-5.webp)

    Once installed, verify the setup:

    1. Navigate to **Settings** → **MCP Settings** → **Manage MCP Servers**.
    2. Verify that **Kluster-Verify-Code** appears with all tools enabled.

        ![Active MCP Tools in Antigravity](/images/code-reviews/get-started/installation/antigravity/antigravity-integration-6.webp)

=== "Cursor"

    1. Click the **Add to Cursor** button below.

         -[:octicons-arrow-right-24: Add to Cursor](cursor:extension/klusterai.kluster-verify-code){target=_blank .md-button .md-button--primary}

    2. Cursor will open and prompt for extension installation.

    3. Click **Install** to add the extension into Cursor.

        ![Extension Installation Prompt in Cursor](/images/code-reviews/get-started/installation/cursor/cursor-integration-1.webp)

    Once installed, you can verify the setup:

    1. Open **Cursor Settings**. You can use the gear icon in the top right corner to do so.
    2. Navigate to **Tools & Integrations** → **MCP Tools**.
    3. You should see **extension-Kluster-Code-Reviews** with all tools enabled:

        -- **`kluster_code_review_auto`**: Automatic code security, quality, and compliance verification.
- **`kluster_dependency_validator`**: Dependency health and risk validation.
- **`kluster_code_review_manual`**: On-demand, user-requested per-file verification (security, quality, compliance).

        ![Active MCP Tools in Cursor](/images/code-reviews/get-started/installation/cursor/cursor-integration-2.webp)

=== "VS Code / Codex VS Code"

    1. Click the **Add to VS Code** button below:

         -[:octicons-arrow-right-24: Add to VS Code](vscode:extension/klusterai.kluster-verify-code){target=_blank .md-button .md-button--primary}

    2. VS Code will open and display the extension.

    3. Click **Install** to get the extension.

        ![Install Extension](/images/code-reviews/get-started/installation/vscode/vscode-integration-0.webp)

    4. Select **Trust Publisher & Install**.

        ![Trust publisher](/images/code-reviews/get-started/installation/vscode/vscode-integration-1.webp)

    Now that the extension is installed, you need to log in with your kluster.ai account:

    1. Click on **Sign in** in the bottom right corner.
       ![Sign In](/images/code-reviews/get-started/installation/vscode/vscode-integration-2.webp)

    2. Choose **Open**. A browser pop-up window will take you to your kluster.ai account.

        ![Open Pop-up](/images/code-reviews/get-started/installation/vscode/vscode-integration-3.webp)

    3. Click **Open Visual Studio Code**.

        ![Open Visual Studio Code](/images/code-reviews/get-started/installation/vscode/vscode-integration-4.webp)

    4. Click **Open** to install the MCP with your kluster.ai API key.

        ![Open and Install MCP](/images/code-reviews/get-started/installation/vscode/vscode-integration-5.webp)

    5. To complete the setup, click **Install** to accept the MCP configuration for Code Reviews.

         ![Install MCP](/images/code-reviews/get-started/installation/vscode/vscode-integration-6.webp)
    6. Press **Trust** to Install the MCP server.
    ![MCP Server Trust Installation in VS Code](/images/code-reviews/get-started/installation/vscode/vscode-integration-7.webp)

    Once installed, verify the setup:

    1. Open a Copilot chat window and select the **Tools** button on the bottom right corner.
    2. Scroll down the list and **Kluster-Code-Reviews-MCP** should appear. Make sure all tools are enabled.

        ![Active MCP Tools in VS Code](/images/code-reviews/get-started/installation/vscode/vscode-integration-8.webp)

=== "Windsurf"

    1. Click the **Add to Windsurf** button below.

         -[:octicons-arrow-right-24: Add to Windsurf](windsurf:extension/klusterai.kluster-verify-code){target=_blank .md-button .md-button--primary}


    2. Windsurf will open and prompt for extension installation.

    3. Click **Install** to add the extension into Windsurf.

        ![Extension Installation Prompt in Windsurf](/images/code-reviews/get-started/installation/windsurf/windsurf-integration-1.webp)

    4. Select **Trust Publisher & Install**.

        ![Trust publisher](/images/code-reviews/get-started/installation/windsurf/windsurf-integration-2.webp)

    Now that the extension is installed, you need to log in with your kluster.ai account:

    1. Click on **Sign in** in the bottom left corner.

        ![Sign In](/images/code-reviews/get-started/installation/windsurf/windsurf-integration-3.webp)

    2. Choose **Open**. A browser pop-up window will take you to your kluster.ai account.

        ![Open Pop-up](/images/code-reviews/get-started/installation/windsurf/windsurf-integration-4.webp)

    3. Click **Open Windsurf**.

        ![Open Windsurf](/images/code-reviews/get-started/installation/windsurf/windsurf-integration-5.webp)

    4. Click **Open** to install the MCP with your kluster.ai API key.

        ![Open and Install MCP](/images/code-reviews/get-started/installation/windsurf/windsurf-integration-6.webp)

    Once installed, verify the setup:

    1. Navigate to **Options** → **Windsurf Settings** → **MCP Servers** → **Open MCP Marketplace**.
    2. You should see **Kluster-Verify-Code** with all tools enabled.

        ![Active MCP Tools in Windsurf](/images/code-reviews/get-started/installation/windsurf/windsurf-integration-7.webp)

=== "Claude Code"

    **Terminal installation**

    Log in to the [kluster.ai platform](https://platform.kluster.ai){target=\_blank}, and copy the Claude Code configuration snippet. This will include your API key.

    The command is similar to:

    -```bash
curl -s https://platform.kluster.ai/install-kluster-mcp-claude-code.sh | bash -s YOUR_API_KEY
```

    This command will:

    - Download the kluster.ai MCP server.
    - Configure Claude Code settings.
    - Set up your API key.
    - Enable all review tools.

    -<div id="termynal" data-termynal>
  <span data-ty="input">franzuzz@MacBook-Pro-de-Jean mcp-demo % curl -s https://platform.kluster.ai/install-kluster-mcp-claude-code.sh | bash -s YOUR_API_KEY</span>
  <span data-ty>Installing Kluster.ai server...</span>
  <span data-ty>✅ Installation complete!</span>
  <span data-ty>Restart Claude Code to apply the new rules</span>
  <span data-ty>Happy {K}oding ;)</span>
</div>

    Once installed, verify the setup:

    1. Run the `/mcp` command in Claude Code.

        -<div id="termynal" data-termynal>
  <span data-ty="input">claude /mcp</span>
  <span data-ty></span>
  <span data-ty>✨ Welcome to Claude Code!</span>
  <span data-ty>/help for help, /status for your current setup</span>
  <span data-ty>cwd: /Users/franzuzz/code/demos/claude-code/mcp-demo</span>
  <span data-ty></span>
  <span data-ty>Tips for getting started:</span>
  <span data-ty>Ask Claude to create a new app or clone a repository</span>
  <span data-ty>Use Claude to help with file analysis, editing, bash commands and git</span>
  <span data-ty>Be as specific as you would with another engineer for the best results</span>
  <span data-ty>✔ Run /terminal-setup to set up terminal integration</span>
  <span data-ty></span>

  <span data-ty="input">/mcp</span>
  <span data-ty>Manage MCP servers</span>
  <span data-ty>  1. kluster-verify ✔ connected • Enter to view details</span>
  <span data-ty></span>
  <span data-ty>MCP Config locations (by scope):</span>
  <span data-ty> • User config: /Users/franzuzz/.claude.json</span>
  <span data-ty> • Project config (shared via .mcp.json):</span>
  <span data-ty>   /Users/franzuzz/code/demos/claude-code/mcp-demo/.mcp.json (file does not exist)</span>
  <span data-ty> • Local config (private to this project):</span>
  <span data-ty>   /Users/franzuzz/.claude.json [project: /Users/franzuzz/code/demos/claude-code/mcp-demo]</span>
  <span data-ty></span>
  <span data-ty>For help configuring MCP servers, see:</span>
  <span data-ty>https://docs.anthropic.com/en/docs/claude-code/mcp</span>
</div>

    2. Select **kluster-code-reviews** in the MCP menu list and press enter to **View tools**.

        -<div id="termynal" data-termynal>
  <span data-ty>Kluster-verify MCP Server</span>
  <span data-ty>Status: ✔ connected</span>
  <span data-ty>Command: npx</span>
  <span data-ty>Args: -y @klusterai/kluster-verify-code-mcp@latest</span>
  <span data-ty>Config location: /Users/franzuzz/.claude.json</span>
  <span data-ty>Capabilities: tools</span>
  <span data-ty>Tools: 3 tools</span>
  <span data-ty></span>
  <span data-ty>  1. View tools</span>
  <span data-ty>  2. Reconnect</span>
</div>

    3. Select **View tools** to see the tools for **kluster-code-reviews** listed, including:

        -- **`kluster_code_review_auto`**: Automatic code security, quality, and compliance verification.
- **`kluster_dependency_validator`**: Dependency health and risk validation.
- **`kluster_code_review_manual`**: On-demand, user-requested per-file verification (security, quality, compliance).

        -<div id="termynal" data-termynal>
  <span data-ty>Tools for kluster-verify (3 tools)</span>
  <span data-ty>  1. kluster_code_review_auto</span>
  <span data-ty>  2. kluster_dependency_validator</span>
  <span data-ty>  3. kluster_code_review_manual</span>
</div>

    ![Claude Code Installation Demo](/images/code-reviews/get-started/installation/claudecode/claude.gif)

=== "Codex CLI"

    **Terminal installation**

    Log in to the [kluster.ai platform](https://platform.kluster.ai){target=\_blank}, and copy the Codex CLI configuration snippet. This will include your API key.

    Run this command to install and configure kluster.ai for Codex CLI:

    ```bash
    npx -y @klusterai/ide-installer YOUR_API_KEY codex
    ```

    This command will:

    - Download the kluster.ai MCP server.
    - Configure Codex CLI settings.
    - Set up your API key.
    - Enable all review tools (auto, manual, and dependency check).

    -<div id="termynal" data-termynal>
  <span data-ty="input">npx -y @klusterai/ide-installer YOUR_API_KEY codex</span>
  <span data-ty>🔧 Installing Kluster.ai server...</span>
  <span data-ty>✅ Installation complete!</span>
  <span data-ty>Restart Codex CLI to apply the new rules</span>
  <span data-ty>Happy {k}oding ;)</span>
</div>



    You can verify successful installation with the following command:

    ```bash
    codex /tools
    ```

    -<div id="termynal" data-termynal>
  <span data-ty="input">codex /tools</span>
  <span data-ty>╭───────────────────────────────────────────╮</span>
  <span data-ty>│ >_ OpenAI Codex (v0.50.0)                 │</span>
  <span data-ty>│                                           │</span>
  <span data-ty>│ model:     gpt-5-codex   /model to change │</span>
  <span data-ty>│ directory: ~/workspace/codex              │</span>
  <span data-ty>╰───────────────────────────────────────────╯</span>

  <span data-ty>› /tools</span>

  <span data-ty>• Available tools right now:</span>

  <span data-ty>  - shell: run terminal commands via execvp (use ["bash","-lc", "..."] and set</span>
  <span data-ty>    workdir).</span>
  <span data-ty>  - list_mcp_resources, list_mcp_resource_templates, read_mcp_resource: browse/</span>
  <span data-ty>    read context shared by MCP servers.</span>
  <span data-ty>  - update_plan: maintain a task plan (skip for very simple tasks, never single-</span>
  <span data-ty>    step).</span>
  <span data-ty>  - apply_patch: edit files via unified diff patches.</span>
  <span data-ty>  - view_image: attach a local image into the conversation.</span>
  <span data-ty>  - Kluster verification tools (mandatory after any code change):</span>
  <span data-ty>      - mcp__kluster-verify__kluster_code_review_auto</span>
  <span data-ty>      - mcp__kluster-verify__kluster_code_review_manual (manual review when</span>
  <span data-ty>        explicitly requested)</span>
  <span data-ty>      - mcp__kluster-verify__kluster_dependency_check (before dependency</span>
  <span data-ty>        operations)</span>
</div>



    Upon successful installation, all kluster review tools will appear in the tools list, including auto, manual, and dependency check.

    ![Codex CLI Installation Demo](/images/code-reviews/get-started/installation/codex-cli/codex-cli.gif)

## Next steps

- **[Agent Mode](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)**: Learn about AI-assisted automatic reviews
- **[Instant IDE Mode](/code-reviews/instant-ide-mode/instant-actions/quickstart/)**: Learn about direct in-editor reviews
- **[Pick your workflow](/code-reviews/get-started/pick-your-workflow/)**: Decide which mode fits your workflow
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/get-started/pick-your-workflow/
--- BEGIN CONTENT ---
---
title: Pick your workflow
description: Choose between Agent Mode and Instant IDE Mode based on how you write code. Or use both.
---

# Pick your workflow

Code Reviews offers two distinct modes that adapt to how you work. Whether you're coding with an AI assistant or writing code directly, this guide helps you understand which mode fits your workflow—and why most developers use both.

## Choose your mode

<div class="grid cards" markdown>

-   **Agent Mode**

    ---

    For developers using AI coding assistants. Your code is reviewed automatically every time your AI generates or modifies code—no manual steps required.

    [:octicons-arrow-right-24: Learn more](#agent-mode)

-   **Instant IDE Mode**

    ---

    For developers writing code directly. Review any code on-demand with a right-click, keyboard shortcut, or sidebar button. No AI assistant needed—just you and your editor.

    [:octicons-arrow-right-24: Learn more](#instant-ide-mode)

</div>

## Agent Mode

Agent Mode integrates directly with your AI coding assistant. When the AI generates or modifies code, [kluster.ai](https://kluster.ai){target=_blank} automatically analyzes the changes in real-time. You can also ask your AI to review existing files on demand—just say "review this file" and the AI triggers a manual review.

This mode is designed for developers who code with AI assistants like Claude Code, Cursor, or Copilot. The review happens seamlessly in the background, catching security vulnerabilities, logic errors, and quality issues before they become problems.

**Compatible with**:

- **IDE extensions**: Cursor, VS Code, Windsurf, Antigravity.
- **CLI tools**: Claude Code, Codex CLI.

[:octicons-arrow-right-24: Get started with Agent Mode](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)


## Instant IDE Mode

Instant IDE Mode gives you direct control over when reviews happen. Select any code in your editor and trigger a review instantly—no AI assistant required. This mode is built into the kluster.ai extension and provides three ways to review: right-click menu, keyboard shortcut, or the extension sidebar.

Use it to review code you wrote yourself, audit files before committing, or check legacy code you inherited. The reviews run the same comprehensive analysis as Agent Mode, just triggered manually instead of automatically.

**Compatible with**: Cursor, VS Code, Windsurf, Antigravity (IDEs only).

!!! info "Not available for CLI tools"
    Instant IDE Mode requires an IDE extension. For CLI tools like Claude Code or Codex CLI, use Agent Mode instead.

[:octicons-arrow-right-24: Get started with Instant IDE Mode](/code-reviews/instant-ide-mode/instant-actions/quickstart/)


## Using both modes

If you use Cursor, VS Code, Windsurf, or Antigravity, you get the best of both worlds. Install kluster.ai once and both modes are available—switch seamlessly between AI-assisted coding and manual reviews without changing tools.

Use Agent Mode when pair-programming with AI, switch to Instant IDE Mode when writing code yourself, and run **Review uncommitted changes** before every commit to catch anything missed.

## Next steps

- **[Agent Mode quickstart](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)**: Set up automatic reviews for AI-assisted coding.
- **[Instant IDE Mode quickstart](/code-reviews/instant-ide-mode/instant-actions/quickstart/)**: Set up on-demand reviews in your editor.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/instant-ide-mode/instant-actions/quickstart/
--- BEGIN CONTENT ---
---
title: Instant Actions Quickstart
description: Write code, verify on your terms. Three ways to trigger reviews in your IDE—right-click any selection, use hint buttons, or scan uncommitted changes before you commit.
---

# Instant Actions quickstart

With [kluster.ai](https://kluster.ai){target=_blank}, you can trigger reviews three ways: right-click any selection, use hint buttons, or scan uncommitted changes.

## Prerequisites

Before getting started, ensure you have:

-- **A kluster.ai account**: Sign up on the [kluster.ai platform](https://platform.kluster.ai/signup){target=\_blank} if you don't have one.
- **kluster.ai installed in your IDE**: Follow the [Installation guide](/code-reviews/get-started/installation/) to set it up in your favourite IDE.


<div class="embed-container">
    <iframe
        src="https://www.youtube.com/embed/rpWt9sXAqWY"
        title="Instant IDE Mode with kluster.ai"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen
        loading="lazy">
    </iframe>
</div>

## How instant actions work

1.  **You write code**: Work in your editor as usual.
2.  **You trigger review**: Right-click, use a hint button, or click in the sidebar.
3.  **kluster.ai analyzes**: Results appear with issues and suggested fixes.

## Instant review

Open the kluster.ai extension to access the **Instant Review** section in the sidebar. Click the dropdown button to choose:

- **Review current file**: Verifies only the file currently open in the editor.
- **Review uncommitted changes**: Verifies all uncommitted changes across multiple files.

![Instant Review section in the kluster.ai sidebar](/images/code-reviews/instant-ide-mode/instant-actions/manual-review-this-code-extension.webp)

!!! info "Accessing Instant Review"
    You can also access Instant Review from the **Home** and **Git** tabs. Expand the kluster.ai section if collapsed.

After the review completes, kluster.ai displays any issues found. You can click **Fix with AI** to automatically resolve them.

![Review results showing issues found](/images/code-reviews/instant-ide-mode/instant-actions/manual-review-this-code-extension-results.webp)

## Code block review

Select any code in your editor, right-click, and choose **Review with kluster.ai** (or press `Ctrl+Shift+K`). This is useful for:

- Verifying a specific function or block you just wrote.
- Checking code during merge conflict resolution.
- Getting a quick security check before moving on.

![Right-click to review selected code](/images/code-reviews/instant-ide-mode/instant-actions/manual-review-this-code.webp)

!!! info "Hint button"
    When you select code, a hint button also appears next to your selection to trigger the review. This hint button is not yet available in Cursor—use the right-click menu or keyboard shortcut instead.

## Compatible with

- Cursor
- VS Code
- Windsurf
- Antigravity

## Configuration

You can customize how instant reviews work in your [configuration options](/code-reviews/configuration/options/):

- **Enabled tools**: Toggle Code Review and Dependency Analysis on/off.
- **Sensitivity**: Adjust how strictly issues are flagged (Low → Critical).
- **Bug check types**: Select which issue types to check (Security, Logic, Performance, etc.).

## Next steps

- **[MCP Tools Reference](/code-reviews/reference/mcp-tools/)**: Deep dive into all MCP tools and parameters.
- **[Configuration Options](/code-reviews/configuration/options/)**: Customize Code Reviews behavior for your workflow.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/reference/mcp-tools/
--- BEGIN CONTENT ---
---
title: MCP Tools Reference
description: Learn how kluster.ai Code MCP tools work: parameters, response formats, issue categories, and settings for real-time code reviews.
---

# MCP Tools Reference

The [kluster.ai](https://www.kluster.ai/){target=_blank} Code MCP server provides review tools for checking code quality and security. These tools enable real-time code reviews directly within your IDE through MCP integration.

## Available tools

- **`kluster_code_review_auto`**: Automatically reviews code quality and detects bugs, including logic errors, security issues, and performance problems. Triggers automatically when code is generated or modified. Best for real-time reviews during active coding sessions, analyzing changes in context of the full conversation and related files.
- **`kluster_dependency_validator`**: Validates the security and compliance of packages and dependencies. Triggers automatically before package installations or when package files are updated. Best for preventing vulnerable or non-compliant third-party libraries from entering your codebase before installation.
- **`kluster_code_review_manual`**: Manually reviews specific files when explicitly requested by the user (e.g., "review this file", "check for bugs"). Best for auditing existing code, reviewing specific modules, or getting fix recommendations for individual files.

This page documents the parameters and response formats you'll see when using these tools in Cursor, Claude Code, or any MCP-compatible client.

## Parameters

=== "Automatic Reviews and Dependency Validator"

    These tools analyze code changes and dependencies to detect bugs, security vulnerabilities, and other quality issues. Used in Agent Mode.

    ???+ interface "Parameters"

        `code_diff` ++"string"++ <span class="required" markdown>++"required"++</span>

        Unified diff format showing the actual changes (additions and subtractions) made to files. Use standard diff format with `--- filename` and `+++ filename` headers, followed by `@@ line numbers @@`, and `+` for additions, `-` for deletions. In MCP environments, this is often auto-extracted from IDE history.

        ---

        `user_requests` ++"string"++ <span class="required" markdown>++"required"++</span>

        A chronological sequence of all user messages and requests in this conversation thread, with the current request (that triggered this assistant turn) clearly marked. Format: Previous requests as numbered list, then current request marked with `>>> CURRENT REQUEST: [request text]`. In MCP environments, this is often auto-extracted from conversation history.

        ---

        `modified_files_path` ++"string"++ <span class="required" markdown>++"required"++</span>

        Full absolute paths of modified files separated by `;`.

        ---

        `chat_id` ++"string"++ <span class="optional" markdown>++"optional"++</span>

        Session identifier returned by previous tool calls. Used to maintain context across multiple review requests.

=== "Manual Review Tool"

    The manual review tool is triggered when explicitly requested. Used in both Agent Mode (when you ask your AI to review code) and Instant IDE Mode (when you use the extension UI).

    ???+ interface "Parameters"

        `user_requests` ++"string"++ <span class="required" markdown>++"required"++</span>

        Chronological sequence of user messages with current request marked as `>>> CURRENT REQUEST:`. Unlike automatic reviews, this parameter is NOT auto-extracted in MCP environments and must be explicitly provided.

        ---

        `modified_file_path` ++"string"++ <span class="required" markdown>++"required"++</span>

        Full absolute path of the single file to review. This tool can only check one file per call.

        ---

        `need_fixes` ++"boolean"++ <span class="required" markdown>++"required"++</span>

        Set to `true` if user requested fixes, `false` if only requesting issue detection.

        ---

        `chat_id` ++"string"++ <span class="optional" markdown>++"optional"++</span>

        Session identifier returned by previous tool calls. Used to maintain context across multiple review requests.

## Response format

All code review tools return the same response structure. See the [Response Schema](/code-reviews/reference/response-schema/) for complete details.

## Next steps

- **[Response Schema](/code-reviews/reference/response-schema/)**: Understand the response format in detail
- **[Configure settings](/code-reviews/configuration/options/)**: Customize review behavior for your needs
- **[Installation](/code-reviews/get-started/installation/)**: Set up kluster.ai in your IDE
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/reference/response-schema/
--- BEGIN CONTENT ---
---
title: Response Schema
description: Understand the response format from kluster.ai Code Reviews—issue structure, severity levels, priority system, and suggested fixes.
---

# Response Schema

All kluster.ai code review tools return the same response structure. This page documents the fields you'll see in review responses.

## Response fields

- **`isCodeCorrect`**: Boolean indicating if the code has issues.
- **`explanation`**: Summary of all issues found.
- **`issues`**: Array of detected problems with:
  - **`type`**: Issue category (intent, semantic, knowledge, performance, quality, logical, security).
  - **`severity`**: Impact level (critical, high, medium, low).
  - **`priority`**: Execution priority (P0-P5).
  - **`description`**: Brief issue summary.
  - **`explanation`**: Detailed issue explanation.
  - **`actions`**: Recommended fixes.
- **`priority_instructions`**: Execution rules for addressing issues.
- **`agent_todo_list`**: Prioritized list of fixes to apply.
- **`chat_id`**: Session identifier for maintaining context across requests.

## Example response

```json
{
    "isCodeCorrect": false,
    "explanation": "Found 1 issue. 1 critical issue needs immediate attention.\n\nTODO:\n1. [CRITICAL] The implementation introduces a critical SQL injection vulnerability.",
    "issues": [
        {
            "type": "intent",
            "severity": "critical",
            "priority": "P0",
            "description": "The implementation introduces a critical SQL injection vulnerability, which is an unacceptable security risk.",
            "explanation": "The code constructs an SQL query using string concatenation with user input, which is the classic pattern for SQL injection. A function designed for database interaction should use parameterized queries.",
            "actions": "Use parameterized queries or prepared statements to safely handle user input. For example: db.query('SELECT * FROM users WHERE id = ?', [userId])"
        }
    ],
    "priority_instructions": "**PRIORITY EXECUTION RULES:**\n1. **INTENT Critical/High (P0-P1) get special priority**\n2. **All other issues sorted by severity** - Critical (P2) > High (P3) > Medium (P4) > Low (P5)\n3. **Never let lower priority issues override higher priority changes**",
    "agent_todo_list": [
        "**EXECUTE IN THIS EXACT ORDER:**",
        "",
        "**Priority P0 - INTENT CRITICAL (HIGHEST PRIORITY):**",
        "P0.1: The implementation introduces a critical SQL injection vulnerability - Use parameterized queries or prepared statements."
    ],
    "chat_id": "i8ct930591"
}
```

## Issue types

| Type | Description | Example |
|------|-------------|---------|
| `intent` | Code doesn't match user request | Asked for sorting, got filtering |
| `semantic` | Meaning and type errors | Wrong variable type used |
| `knowledge` | Best practice violations | Not following conventions |
| `performance` | Performance issues | Inefficient algorithms |
| `quality` | Code quality problems | Poor naming, complexity |
| `logical` | Control flow errors | Off-by-one errors |
| `security` | Security vulnerabilities | SQL injection risks |

## Severity levels

| Level | Meaning | Action |
|-------|---------|--------|
| `critical` | Security vulnerability or breaking issue | Fix immediately |
| `high` | Significant bug or security concern | Fix before production |
| `medium` | Quality issue or minor bug | Should fix |
| `low` | Style or minor improvement | Optional fix |

## Priority system

Code review assigns priority levels to detected issues, helping you focus on the most critical problems first. The system automatically prioritizes based on issue type and severity.

| Priority | Meaning |
|----------|---------|
| **P0-P1** | Intent issues (highest priority) - code doesn't match request |
| **P2** | Critical severity - must fix immediately |
| **P3** | High severity - should fix soon |
| **P4** | Medium severity - nice to fix |
| **P5** | Low severity - optional improvements |

## Next steps

- **[MCP Tools Reference](/code-reviews/reference/mcp-tools/)**: Learn about tool parameters
- **[Configure settings](/code-reviews/configuration/options/)**: Customize what issues get flagged
- **[Agent Mode](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)**: Learn how reviews work with AI assistants
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/review-modes/
--- BEGIN CONTENT ---
---
title: Code Reviews
description: Learn how to use kluster.ai's Code Reviews to validate your code in real time—detecting bugs, security issues, and quality problems so you can ship safely.
---

# Code Reviews

Code Reviews analyzes your code for bugs, security vulnerabilities, and quality issues. It works in two modes: **Agent Mode** for AI-assisted workflows, and **Instant IDE Mode** for on-demand reviews directly in your editor.

The service integrates directly into your IDE or CLI (Cursor, VS Code, Windsurf, Claude Code, and others), analyzing code as you work.

## Key features

- **Flexible review modes**: Agent Mode for AI-assisted workflows, Instant IDE Mode for direct editor reviews.
- **Comprehensive issue detection**: Analyzes 7 issue types — *Semantic, Intent, Logical, Security, Knowledge, Performance,* and *Quality*.
- **Customizable sensitivity**: Configure detection sensitivity from *Low* to *Critical*.
- **Dual analysis tools**: Real-time Code Review and Dependency Analysis for complete coverage.
- **Instant fixes**: Apply suggested fixes with one click, or let your AI assistant handle them automatically.

## Agent Mode

**For AI-assisted coding workflows.**

Agent Mode works alongside your AI coding assistant. When the AI generates or modifies code, kluster.ai automatically reviews it in real-time. You can also ask your AI to review existing files on demand.

**Agent Mode also verifies *intent*—ensuring your AI actually did what you asked**, not just that the code works. This context-aware check is only possible when kluster.ai sees your original prompt.

- **Automatic agent reviews**: Triggered automatically when AI generates code.
- **Manual agent reviews**: Triggered when you ask your AI to review existing code.

**Compatible with**: Cursor, VS Code, Windsurf, Antigravity (IDEs) and Claude Code, Codex CLI (CLIs)

[:octicons-arrow-right-24: Get started with Agent Mode](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)

## Instant IDE Mode

**For direct, in-editor reviews without AI.**

Instant IDE Mode is an IDE extension that provides on-demand code reviews—no AI assistant needed. Available features include:

- **Code block review**: Review selected code snippets.
- **Current file review**: Analyze the file you're working on.
- **Uncommitted changes review**: Check all modified files before committing.

**Compatible with**: Cursor, VS Code, Windsurf, Antigravity (IDEs only)

[:octicons-arrow-right-24: Get started with Instant IDE Mode](/code-reviews/instant-ide-mode/instant-actions/quickstart/)

!!! tip "Need help choosing?"
    See [Pick your workflow](/code-reviews/get-started/pick-your-workflow/) for a detailed comparison and decision guide.



## Next steps

- **[Installation](/code-reviews/get-started/installation/)**: Install kluster.ai in your IDE or CLI tool.
- **[Agent Mode](/code-reviews/agent-mode/automatic-agent-reviews/quickstart/)**: Set up automatic and manual agent reviews.
- **[Instant IDE Mode](/code-reviews/instant-ide-mode/instant-actions/quickstart/)**: Get started with in-editor reviews.
- **[Pick your workflow](/code-reviews/get-started/pick-your-workflow/)**: Compare modes and find the right fit.
--- END CONTENT ---

Doc-Content: https://docs.kluster.ai/code-reviews/troubleshooting/
--- BEGIN CONTENT ---
---
title: Troubleshooting
description: Solutions for common issues with kluster.ai Code Reviews across all supported IDEs and CLI tools.
---

# Troubleshooting

If you encounter issues with [kluster.ai Code Reviews](https://www.kluster.ai/){target=\_blank}, check the following common errors.

## Installation

### Cannot find module './constants'

<div id="termynal" data-termynal>
  <span data-ty>[info] Starting new stdio process with command: npx -y @klusterai/kluster-verify-code-mcp@latest</span>
  <span data-ty style="color: #ff6b6b;">[error] node:internal/modules/cjs/loader:1247</span>
  <span data-ty style="color: #ff6b6b;">  throw err;</span>
  <span data-ty style="color: #ff6b6b;">  ^</span>
  <span data-ty style="color: #ff6b6b;">Error: Cannot find module './constants'</span>
  <span data-ty style="color: #ff6b6b;">Require stack:</span>
  <span data-ty style="color: #ff6b6b;">- /Users/.../.npm/_npx/abc123/node_modules/@klusterai/kluster-verify-code-mcp/dist/index.js</span>
</div>

This error occurs when npx caches a broken or incomplete package download. Clear the cache and restart your IDE:

=== "macOS / Linux"

    ```bash
    rm -rf ~/.npm/_npx
    ```

=== "Windows"

    ```powershell
    Remove-Item -Recurse -Force "$env:LOCALAPPDATA\npm-cache\_npx"
    ```

After clearing the cache, restart your IDE or CLI tool.

### Claude Code MCP server shows "failed"

In Claude Code, the MCP server may show `✘ failed` on the first connection attempt. This happens because Claude Code has a 10-second timeout for MCP startup, and the initial npx download can take longer when there's no cache.

Simply restart Claude Code. The second attempt will use the cached package and connect successfully. Run `/mcp` to verify the MCP server is connected:

![Claude Code MCP server status showing connected](/images/code-reviews/get-started/installation/troubleshooting/troubleshooting-1.webp)

### Debugging CLI installation issues

If you're experiencing installation problems, add the `--verbose` flag to the installer command for more detailed output:

```bash
npx -y @klusterai/ide-installer YOUR_API_KEY claude --verbose
```

This helps identify where the installation process is failing.

## Need help?

If your issue isn't listed here or you need additional support, join our [Discord community](https://discord.com/invite/klusterai){target=\_blank}.
--- END CONTENT ---

